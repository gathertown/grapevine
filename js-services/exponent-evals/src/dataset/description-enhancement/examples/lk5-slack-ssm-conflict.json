{
  "id": "lk5-slack-ssm-conflict",
  "type": "slack",
  "sourceDescription": "this Slack conversation",
  "sourceLink": "https://slack.com/archives/C08BMCZK81F/p1764794015067639?thread_ts=1764765391.132429",
  "sourceContent": "{\n  \"channel\": \"C08BMCZK81F\",\n  \"date\": \"2025-12-03\",\n  \"participants\": [\"Panagiotis\", \"Jordan Maduro\", \"Chandler\"],\n  \"content\": \"=== Earlier conversation (context, already processed) ===\\n[2025-12-03T12:36:31.132Z] Panagiotis: Hello team,\\nWhen trying to create an org in staging I'm getting an error, is this expected?\\n[2025-12-03T14:28:13.772Z] Jordan Maduro: yeah this is still happening\\n[2025-12-03T14:46:01.273Z] Jordan Maduro: Cant see the issue do see a drop in database connections a couple of hours ago\\n[2025-12-03T16:08:45.705Z] Chandler: looks like this is back up and rolling!\\n[2025-12-03T20:00:24.786Z] Panagiotis: Just tried to setup an account in staging and I'm still getting the same error. Is there a known workaround?\\n\\n```⚠️ Database connection unavailable```\\n:thinking_face:\\n[2025-12-03T20:01:08.716Z] Chandler: interesting — looking now\\n[2025-12-03T20:01:54.207Z] Chandler: very odd, I just successfully created a new tenant :thinking_face:\\n[2025-12-03T20:03:08.071Z] Chandler: oh wait hang on — it appeared successful\\n[2025-12-03T20:03:14.690Z] Chandler: seeing this now:\\n```{\\n    \\\"error\\\": \\\"Database connection unavailable\\\",\\n    \\\"details\\\": \\\"Could not establish database connection for your organization\\\"\\n}```\\n[2025-12-03T20:03:31.376Z] Chandler: ```GET <https://stg.getgrapevine.ai/api/tenant/status>```\\nis returning a 500\\n[2025-12-03T20:08:25.281Z] Chandler: yep investigating this now!\\n[2025-12-03T20:08:57.575Z] Chandler: can connect to\\n• control DB (supabase)\\n• tenant DB (postgres)\\nsteward provisioning doesn't have any errors\\n[2025-12-03T20:10:43.732Z] Chandler: appears to be this: <https://onenr.io/0ERPV7lY2QW>\\n[2025-12-03T20:11:27.081Z] Chandler: missing SSM credentials: <https://onenr.io/0Zw0ezvyORv>\\n[2025-12-03T20:14:22.333Z] Chandler: oh wow in fact there are no SSM params being stored\\n[2025-12-03T20:15:07.756Z] Chandler: > \\\"Successfully stored parameter /2c05edec7af04101/credentials/postgresql/db_name\\\"\\n[2025-12-03T20:17:01.460Z] Chandler: ok so something wrong here with steward claiming it stored param, when it actually didn't (or maybe it did then got deleted or something)\\n[2025-12-03T20:28:54.507Z] Chandler: ok something funky is going on here — after provisioning a brand new test tenant (from <https://stg.getgrapevine.ai/>), its getting attached to the namespace `cc-devenv-2240` which is weird\\n\\n=== New messages since last pass (process these) ===\\n[2025-12-03T20:33:35.067Z] Chandler: ok just chatted with <@U08CM2PLRAS>\\n\\n• devenv stewards are fighting with the staging steward, and they are writing SSM parameters to localstack (so creds are never saved to AWS SSM)\\n• this isn't a prod issue\\n• Johnny disabling devenv stewards for now and will work on a fix\"\n}",
  "operation": {
    "action": "CREATE",
    "createData": {
      "title": "Fix devenv vs staging steward conflict (ensure SSM params persist to AWS SSM, not localstack)",
      "description": "Fix the conflict where devenv stewards are writing SSM parameters to localstack instead of AWS SSM.\n\n- Devenv stewards are conflicting with the staging steward\n- Credentials are never saved to AWS SSM\n- Mitigation: Johnny disabled devenv stewards temporarily\n- Johnny will work on a fix to prevent the conflict and ensure SSM params persist to AWS SSM"
    }
  }
}
